Object.defineProperty(exports,"__esModule",{value:true});var _expo=require('expo');var regeneratorRuntime=require('regenerator-runtime');var PUSH_ENDPOINT='https://expo-push-server.herokuapp.com/tokens';exports.default=function registerForPushNotificationsAsync(){var _ref,status,token;return regeneratorRuntime.async(function registerForPushNotificationsAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return regeneratorRuntime.awrap(_expo.Permissions.askAsync(_expo.Permissions.NOTIFICATIONS));case 2:_ref=_context.sent;status=_ref.status;if(!(status!=='granted')){_context.next=6;break;}return _context.abrupt('return');case 6:_context.next=8;return regeneratorRuntime.awrap(_expo.Notifications.getExpoPushTokenAsync());case 8:token=_context.sent;return _context.abrupt('return',fetch(PUSH_ENDPOINT,{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({token:{value:token}})}));case 10:case'end':return _context.stop();}}},null,this);};